import{o as e,q as v,a as j,w as U,s as R}from"./chunk-NL6KNZEE-B6_Ba6Pt.js";import{c as f,C as H,a as L,b as z,d as G,e as T,F as $,f as q,U as B,B as x,g as w,H as E,S as I,h as M}from"./button--G0Y8acw.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Y=f("chevron-left",D);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],W=f("chevron-right",P);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],K=f("funnel",J);function O({speech:a}){const t=(r,l=200)=>r.length<=l?r:r.slice(0,l)+"...";return e.jsxs(H,{className:"hover:shadow-lg transition-shadow duration-200",children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(z,{className:"text-lg text-un-dark-blue",children:e.jsx(v,{to:`/speech/${a.id}`,className:"hover:underline",children:a.country_name||a.country_code})}),e.jsxs(G,{className:"flex items-center space-x-4 mt-2",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx("span",{children:a.year})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx($,{className:"h-4 w-4"}),e.jsxs("span",{children:["Session ",a.session]})]})]})]}),e.jsx("div",{className:"text-xs bg-un-blue text-white px-2 py-1 rounded",children:a.country_code})]})}),e.jsxs(q,{children:[a.speaker&&e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 mb-2",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{children:a.speaker}),a.post&&e.jsxs("span",{children:["• ",a.post]})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t(a.text)}),e.jsx(v,{to:`/speech/${a.id}`,className:"inline-block mt-3 text-un-blue hover:text-un-dark-blue font-medium text-sm",children:"Read full speech →"})]})]})}function Q({currentPage:a,totalPages:t,onPageChange:r}){const l=()=>{const d=[],i=[];for(let c=Math.max(2,a-2);c<=Math.min(t-1,a+2);c++)d.push(c);return a-2>2?i.push(1,"..."):i.push(1),i.push(...d),a+2<t-1?i.push("...",t):t>1&&i.push(t),i};return t<=1?null:e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-8",children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>r(a-1),disabled:a===1,children:[e.jsx(Y,{className:"h-4 w-4"}),"Previous"]}),l().map((o,d)=>e.jsx("div",{children:o==="..."?e.jsx("span",{className:"px-2",children:"..."}):e.jsx(x,{variant:a===o?"default":"outline",size:"sm",onClick:()=>r(o),children:o})},d)),e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>r(a+1),disabled:a===t,children:["Next",e.jsx(W,{className:"h-4 w-4"})]})]})}const C=j.forwardRef(({className:a,type:t,...r},l)=>e.jsx("input",{type:t,className:w("flex h-9 w-full rounded-md border border-gray-200 bg-white px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-un-blue disabled:cursor-not-allowed disabled:opacity-50",a),ref:l,...r}));C.displayName="Input";const u=j.forwardRef(({className:a,children:t,...r},l)=>e.jsx("select",{className:w("flex h-9 w-full rounded-md border border-gray-200 bg-white px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-un-blue disabled:cursor-not-allowed disabled:opacity-50",a),ref:l,...r,children:t}));u.displayName="Select";function Z(){return[{title:"UN General Assembly Speeches"},{name:"description",content:"Browse and search speeches from the UN General Assembly"}]}const ee=U(function({loaderData:t}){var g,N;const{speeches:r,pagination:l,countries:o,years:d,sessions:i,currentFilters:c}=t,[S,p]=R(),[n,b]=j.useState({country:c.country||"",year:((g=c.year)==null?void 0:g.toString())||"",session:((N=c.session)==null?void 0:N.toString())||"",search:c.search||""}),m=(s,h)=>{b(_=>({..._,[s]:h}))},k=()=>{const s=new URLSearchParams;n.country&&s.set("country",n.country),n.year&&s.set("year",n.year),n.session&&s.set("session",n.session),n.search&&s.set("search",n.search),s.set("page","1"),p(s)},y=()=>{b({country:"",year:"",session:"",search:""}),p({})},F=s=>{const h=new URLSearchParams(S);h.set("page",s.toString()),p(h)},A=n.country||n.year||n.session||n.search;return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[e.jsx(E,{}),e.jsxs("main",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"UN General Assembly Speeches"}),e.jsxs("p",{className:"text-gray-600",children:["Explore ",l.total," speeches from ",d.length," years of United Nations General Assembly sessions"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(K,{className:"h-5 w-5 text-gray-500"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Filters"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Text"}),e.jsx(C,{placeholder:"Search speeches...",value:n.search,onChange:s=>m("search",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),e.jsxs(u,{value:n.country,onChange:s=>m("country",s.target.value),children:[e.jsx("option",{value:"",children:"All Countries"}),o.map(s=>e.jsx("option",{value:s.country_name,children:s.country_name},s.country_code))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),e.jsxs(u,{value:n.year,onChange:s=>m("year",s.target.value),children:[e.jsx("option",{value:"",children:"All Years"}),d.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session"}),e.jsxs(u,{value:n.session,onChange:s=>m("session",s.target.value),children:[e.jsx("option",{value:"",children:"All Sessions"}),i.map(s=>e.jsxs("option",{value:s,children:["Session ",s]},s))]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(x,{onClick:k,children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Apply Filters"]}),A&&e.jsx(x,{variant:"outline",onClick:y,children:"Clear Filters"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:[l.total," speeches found"]}),e.jsxs("p",{className:"text-gray-600",children:["Showing page ",l.page," of ",l.totalPages]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No speeches found matching your criteria."}),e.jsx(x,{variant:"outline",onClick:y,className:"mt-4",children:"Clear Filters"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid gap-6 mb-8",children:r.map(s=>e.jsx(O,{speech:s},s.id))}),e.jsx(Q,{currentPage:l.page,totalPages:l.totalPages,onPageChange:F})]})]}),e.jsx(M,{})]})});export{ee as default,Z as meta};
